(function(){const form=document.getElementById('briefing-form');const formStatus=document.getElementById('form-status');const submitButton=document.getElementById('submit-button');if(form){form.addEventListener('submit',async function(e){e.preventDefault();const lgpdCheckbox=document.getElementById('lgpd');if(!lgpdCheckbox.checked){formStatus.textContent='Por favor, marque o campo de consentimento para continuar.';formStatus.style.color='red';formStatus.classList.add('show');return}formStatus.textContent='Enviando...';formStatus.style.color='inherit';formStatus.classList.add('show');submitButton.disabled=true;const formData=new FormData(form);let redirecting=false;try{const response=await fetch(form.action,{method:'POST',body:formData});if(response.ok){redirecting=true;form.reset();formStatus.textContent='Projeto enviado com sucesso! Redirecionando...';formStatus.style.color='green';submitButton.disabled=false;setTimeout(()=>{window.location.href='confirmacao.html'},400);return}formStatus.textContent='Ocorreu um erro ao enviar o projeto. Por favor, tente novamente.';formStatus.style.color='red'}catch(e){formStatus.textContent='Ocorreu um erro de conexÃ£o. Verifique sua internet e tente novamente.';formStatus.style.color='red'}finally{if(!redirecting){submitButton.disabled=false;setTimeout(()=>{formStatus.classList.remove('show')},5000)}}})}})();